<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fleet Admin Dashboard</title>
    <style>
        body{
            font-family: Arial;
        }
        #navbar{
            padding:15px;
            background-color:white;
            display:flex;
            gap:20px;
        }
        #navbar select, #navbar button{
            padding:8px;
        }
        #container{
            display:flex;
        }
        #sidebar{
            width:25%;
            padding:20px;
            border-right:2px solid #ccc;
        }
        #sidebar input ,#sidebar select, #sidebar button{
            width:90%;
            padding:20px;
            margin:10px 0;
        }
        #sidebar button{
            background:black;
            color:white;
            border:none;
            cursor:pointer;
        }
        #main{
            width:75%;
            display:flex;
            flex-wrap:wrap;
            gap:20px;
            padding:20px;
        }
        .card{
            width:30%;
            padding: 15px;
            border:1px solid #333;
            border-radius:6px;
            box-shadow:2px 2px 6px #bbb; 
        }
        .card button{
            padding:8px;
            margin: 5px;
            cursor:pointer;
        }
    </style>
</head>
<body>
 <div id="navbar">
    <select id="FilterCategory">
        <option value="All">All</option>
        <option>Auto</option>
        <option>Car</option>
        <option>Truck</option>
        <option>Bus</option>
    </select>
    <select id="FilterAvailability">
        <option value="All"></option>
        <option value="Available">Available</option>
         <option value="Unavailable">Unavailable</option>
    </select>
    <button id="ClearFilter">ClearFilter</button>
 </div>
 <div id="container">
    <div id="sidebar"></div>
    <h2>Add Fleet</h2>
    <input id="regNo"type="text" placeholder="Reg No">
    <select id="category">
        <option>Auto</option>
        <option>Car</option>
        <option>Truck</option>
        <option>Bus</option>
    </select>
    <input id="driver" type="text" placeholder="Driver Name">
    <select id="Available">
     <option value="Available">Available</option>  
     <option value="Unavailable">Unavailable</option> 
    </select>
    <button id="addBtn">Add Fleet</button>
 </div> 
 <div id="main"></div>
 <script>
    let data=[];
    let main=document.getElementById("main");
    document.getElementById("addBtn").addEventListener("click",function(){
        let reg=document.getElementById("regNo").value.trim();
        let cat=document.getElementById("category").value;
        let driver=document.getElementById("driver".value.trim());
        let available=document.getElementById("available").value;
         
        if(!reg || !driver){
            alert("Fields cannot be empty");
            return;
        }
        let obj={reg,cat,driver,available};
            data.push(obj);
            render(data);
            document.getElementById("regNo").value="";
            document.getElementById("driver").value="";
    });
    function render (arr){
        main.innerHTML="";
        arr.forEach((ele,i) =>{
            let card=document.createElement("div");
            card.className="card";
            card.innerHTML=`<img src="ttps://coding-platform.s3.amazonaws.com/dev/lms/tickets/5e80fcb6-3f8e-480c-945b-30a5359eb40e/JNmYjkVr3WOjsrbu.png">
            <p><b>Reg No:</b>${ele.reg}</p>
            <p><b>Category:</b>${ele.cat}</p>
            <p><b>Driver:</b>${ele.driver}</p>
            <p><b>Status:</b>${ele.available}</p>
            `;
            let upbtn=document.createElement("button");
            upBtn.innerText="Update Driver";
            upBtn.onclick=function(){
                let newDriver=prompt("Enter new driver name");
                if(!newDriver || newDriver.trim() === ""){
                    alert("Driver name cannot be empty");
                }else{
                    ele.driver=newDriver;
                    render(arr);
                }
            };
            let availBtn=document.createElement("button");
            availBtn.innerText="Change Availability";
            availBtn.onclick=function(){
                ele.available=ele.available ==="Available" ? "Unavailable":"Available";
                render(arr);
            };
            let delBtn=document.createElement("button");
            delBtn.innerText="Delete Vehicle";
            if (confirm("Are you sure?")){
                arr.splice(i,1);
                render(arr);
            }
        });
        card.append(upBtn, availBtn, delBtn);
        main.append(card);
    }
    document.getElementById("filtercategory").addEventListener("change".applyFilters);
    document.getElementById("filter availability").addEventListener("change".applyFilters);
    function applyFilters(){
        let cat=document.getElementById("filter category").value;
        let avail=document.getElementById("filter availability").value;
        let filtered=data.filter(item=>{
            let okCat=(cat==="All" || item.cat===cat);
            let okAvail=(avail === "All" || item.available === avail);
            return okCat && okAvail;
        });
        render(filtered);
    }
    document.getElementById("clearFilter").addEventListener("click",function(){
    document.getElementById("filterCategory").value="All";
    document.getElementById("filterAvailability").value="All";
    render(data);
    });
    
 </script>  
</body>
</html>